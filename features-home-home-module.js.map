{"version":3,"sources":["webpack:///./src/app/features/home/home-page/home-page.component.html","webpack:///./src/app/features/home/home-page/home-page.component.ts","webpack:///./src/app/features/home/home-routing.module.ts","webpack:///./src/app/features/home/home.module.ts"],"names":[],"mappings":"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","file":"features-home-home-module.js","sourcesContent":["module.exports = \"<mat-grid-list cols=\\\"4\\\" rowHeight=\\\"2:1\\\">\\n    <mat-grid-tile *ngFor=\\\"let user of users\\\">\\n        <mat-card [style.width]=\\\"'100%'\\\" [style.height]=\\\"'100px'\\\">\\n            <mat-card-header>\\n                <div mat-card-avatar class=\\\"user-avatar\\\"></div>\\n                <mat-card-title>{{user.name}}</mat-card-title>\\n                <mat-card-subtitle>{{user.username}} (<span *ngIf=\\\"user.active; else inActive\\\">Active</span>)<ng-template\\n                        #inActive><span>Inactive</span></ng-template>\\n                </mat-card-subtitle>\\n            </mat-card-header>\\n            <mat-card-actions>\\n                <a mat-button color=\\\"warn\\\" *ngIf=\\\"user.active\\\" (click)=\\\"deactivateUser(user.id)\\\" class=\\\"text-warning\\\">\\n                    <mat-icon><i class=\\\"material-icons md-dark\\\">block</i></mat-icon>Deactivate\\n                </a>\\n            </mat-card-actions>\\n        </mat-card>\\n    </mat-grid-tile>\\n</mat-grid-list>\"","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { first } from 'rxjs/operators';\n\nimport { User } from '@core/models';\nimport { AuthenticationService, UserService } from '@core/services';\n\n@Component({ templateUrl: 'home-page.component.html' })\nexport class HomePageComponent implements OnInit, OnDestroy {\n  currentUser: User;\n  currentUserSubscription: Subscription;\n  users: User[] = [];\n\n  constructor(\n    private authenticationService: AuthenticationService,\n    private userService: UserService,\n    private router: Router\n  ) {\n    this.currentUserSubscription = this.authenticationService.currentUser.subscribe(user => {\n      this.currentUser = user;\n    });\n  }\n\n  ngOnInit() {\n    this.loadAllUsers();\n  }\n\n  ngOnDestroy() {\n    // unsubscribe to ensure no memory leaks\n    this.currentUserSubscription.unsubscribe();\n  }\n\n  deleteUser(id: string) {\n    this.userService.delete(id).pipe(first()).subscribe(() => {\n      this.loadAllUsers();\n    });\n  }\n\n  deactivateUser(id: string) {\n    this.userService.deactivate(id).pipe(first()).subscribe(() => {\n      if (this.currentUser.id === id) {\n        this.authenticationService.invalidate();\n        this.router.navigate(['/login']);\n      } else {\n        this.loadAllUsers();\n      }\n    });\n  }\n\n  private loadAllUsers() {\n    this.userService.getAll().pipe(first()).subscribe(users => {\n      this.users = users;\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomePageComponent } from './home-page/home-page.component';\nimport { AuthGuard } from '@app/core/guards';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePageComponent,\n    canActivate: [AuthGuard],\n  },\n  {\n    path: '',\n    children: [\n      { path: 'home-page', component: HomePageComponent, canActivate: [AuthGuard] },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeRoutingModule } from './home-routing.module';\nimport { HomePageComponent } from './home-page/home-page.component';\nimport { CustomMaterialModule } from '@app/core';\n\n@NgModule({\n  declarations: [HomePageComponent],\n  imports: [\n    CommonModule,\n    HomeRoutingModule,\n    CustomMaterialModule,\n  ]\n})\nexport class HomeModule { }\n"],"sourceRoot":""}